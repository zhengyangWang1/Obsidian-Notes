---
title: 关系型数据库设计：模式规范化
categories:
  - Notes
  - 课程
  - 数据库
tags:
  - 数据库
date:
---
### 7.1 Good Relational DB Design
逻辑数据库设计包括:
- 初始关系架构生成
- 关系架构规范化

#### Lossless Decomposition无损分解
Def：设 R 为关系模式，R1 和 R2 构成 R 的分解。 即 R = R1 U R2 
Def：分解是无损分解，如果将模式 R 替换为两个关系模式 R1 U R2 没有丢失信息

#### Normalization Principles归一化原则
在DBS逻辑设计过程中，将E-R图转换，得到面向应用领域的初始关系模式集
初始关系模式集存在关系模式属性间的数据依赖 (Data Dependence) 关系
- 函数依赖 (functional  dependencies,  FD)
- 多值依赖 (Mutivalued Dependencies,  MVD)
- 连接依赖 (Join Dependencies, JD)

直接根据初始关系模式构造DBS，由于初始关系模式中数据依赖关系的存在，  可能会违反DB的完整性约束，导致DBS使用的正确性、性能、效率受到影响
- 数据冗余问题 pitfalls
- 插入问题 pitfalls
- 更新问题 pitfalls
- 删除问题 pitfalls

等价变换/模式分解: 对初始关系模式集，保证关系模式的：
- 函数无损连接性（lossless join)，
- 函数依赖保持性  (dependency preservation)

关系模式集需要规范化处理——等价变换/模式分解

关系模式规范化主要步骤为：
- 根据函数依赖的Armstrong’s 公理系统和多值依赖 的公理系统，从初始关系模式集中已知的函数依赖和多值依赖出发，推导出初始关系模式集中所有的函数依赖和多值依赖
- 对具有函数依赖和多值依赖的初始关系模式集，采用 模式分解算法，对其进行（等价）分解和变换，将其转换为各种范式形式，包括：1NF、 2NF、 BCNF、 3NF、 4NF、5NF，以消除函数依赖和多值依赖的负面影响, 保证数据库完整性

关系模式规范化处理的基本要求为: 
- 静态关系具有第一范式形式 
- 动态关系最好具有3NF或BCNF形式 

3种数据依赖间的关系 ：
- 函数依赖是特殊的多值依赖 
- 多值依赖又是连接依赖的特例 
范式1NF、2NF、3NF、BCNF可以看作由符合范式要求的各种关系模式组成的关系模式的集合 
e.g. 1NF = { R | R 满足第一范式的定义} 
范式间的关系：![image.png](https://cdn.jsdelivr.net/gh/zhengyangWang1/image@main/img/20231115120530.png)
