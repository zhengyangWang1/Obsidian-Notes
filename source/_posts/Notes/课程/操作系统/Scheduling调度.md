---
title: Scheduling调度
categories:
  - Notes
  - 课程
  - 操作系统
tags:
  - 操作系统
date:
---
调度有两个方面：
1）如何从一个进程切换到另一个进程
2）下一个应该运行什么进程
机制：上下文切换（如何切换）
机制：抢占（保持控制）
策略：调度（切换到哪里）

上下文切换是一种允许操作系统存储当前进程状态并切换到另一个先前存储的上下文的机制。
上下文切换的原因： 
进程完成/退出 
进程执行缓慢的硬件操作（例如，从磁盘加载）并且操作系统切换到另一个就绪任务 
硬件需要操作系统帮助并发出中断 
操作系统决定抢占该任务并切换到另一个任务（即该进程已用完其时间片）

异步返回的函数调用：进程A开始执行上下文切换，但进程B在函数返回后继续执行。
该函数将所有寄存器保存在暂存区域（在进程的内核堆栈上或任务结构的预定义区域中）。
操作系统切换地址空间。
该函数从暂存区恢复所有寄存器。
操作系统返回到进程B。